# IDLE-Web Models and Types Reference

> **Generated by**: codebase-cartographer
> **Last Updated**: 2026-01-29
> **Covers**: All model files in `/src/app/models/`
> **Scope**: Complete catalog of interfaces, enums, and type definitions

## Summary

Comprehensive reference of all game data models including resources, facilities, celestial bodies, star systems, ships, and game state. All major entities follow the enum + interface + definition record pattern for O(1) lookups.

## Resource System

### ResourceId Enum (resource.model.ts)

```typescript
export enum ResourceId {
  // Tier 1: Raw Resources
  IronOre, HeavyMetalOre, RareEarthOre, Silicates, Ice,
  AtmosphericGases, ExoticGases, Hydrocarbons, Organics, Livestock,

  // Tier 2: Refined Resources
  Steel, HeavyMetals, RareEarths, GlassCeramics, PurifiedWater,
  Fuel, ExoticCompounds, IndustrialChemicals, GrainProduce, MeatAnimalProducts,

  // Tier 3: Processed Resources
  StructuralMaterials, Alloys, Polymers, PreparedFoods, QualityFoods,
  GourmetFoods, BasicGoods, MedicalSupplies,

  // Tier 4: Advanced Resources
  Components, Electronics, ShipParts, Weapons, ComfortGoods,
  Pharmaceuticals, AiCores,

  // Tier 5: High-Tech Resources
  LuxuryGoods, QuantumMaterials, XenoCompounds, SyntheticMinds,

  // Special
  Credits
}
```

### ResourceDefinition Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | ResourceId | Enum reference |
| `name` | string | Display name |
| `tier` | 1\|2\|3\|4\|5 | Resource tier level |
| `description` | string | UI tooltip |
| `basePrice` | number | Credits per tonne (market reference) |
| `isConsumable?` | boolean | Consumed by population if true |

### ResourceStock Interface

| Property | Type | Purpose |
|----------|------|---------|
| `resourceId` | ResourceId | Which resource |
| `amount` | number | Current tonnes in storage |
| `capacity` | number | Maximum storage capacity |

### ResourceRecipe Interface

| Property | Type | Purpose |
|----------|------|---------|
| `inputs` | Array<{resourceId, amount}> | Input resources and ratios |
| `output` | ResourceId | Produced resource |
| `efficiency` | number | 0-1 conversion efficiency |
| `throughput` | number | t/h capacity |

### RESOURCE_DEFINITIONS Lookup

```typescript
const RESOURCE_DEFINITIONS: Record<ResourceId, ResourceDefinition> = {
  [ResourceId.Steel]: {
    id: ResourceId.Steel,
    name: 'Steel',
    tier: 2,
    description: 'Basic construction metal',
    basePrice: 12
  },
  // ... all resources
}
```

**Access Pattern**: `RESOURCE_DEFINITIONS[ResourceId.Steel]` → O(1) lookup

## Facility System

### FacilityId Enum (facility.model.ts)

**Tier 1 Extraction** (10 facilities)
Mine, HeavyMetalMine, RareEarthExcavator, SilicateQuarry, IceHarvester, GasCollector, ExoticGasCollector, HydrocarbonExtractor, Farm, Ranch

**Tier 2 Refining** (10 facilities)
Smelter, HeavyMetalRefinery, RareEarthProcessor, GlassWorks, WaterPurifier, FuelRefinery, ExoticCompoundLab, ChemicalPlant, FoodProcessor, MeatPackingPlant

**Tier 3 Processing** (8 facilities)
ConstructionYard, AlloyFoundry, PolymerPlant, FoodKitchen, QualityFoodsFacility, GourmetKitchen, ConsumerFactory, MedicalLab

**Tier 4 Advanced** (7 facilities)
ComponentFactory, ElectronicsFab, Shipyard, ArmsManufacturer, ComfortGoodsFactory, PharmaceuticalPlant, AiLaboratory

**Tier 5 High-Tech** (3 facilities)
LuxuryGoodsAtelier, QuantumLab, SyntheticMindForge

**Support** (10 facilities)
TradeOutpost, TradeStation, TradeHub, ResearchCenter, SecurityStation, CommsOutpost, CommsStation, CommsHub, FinancialCenter, TourismCenter

**Temporary** (1 facility)
ColonyShip

### EconomyType Enum

Agriculture, Mining, Industry, Tech, Military, Finance, Tourism, Medical, Communications, XenoSciences, Trade

### SlotType Type

```typescript
type SlotType = 'surface' | 'orbital' | 'stellar';
```

### FacilityTier Type

```typescript
type FacilityTier = 1 | 2 | 3 | 4 | 5;
```

### FacilityProduction Interface (Tier 1 Extraction)

| Property | Type | Purpose |
|----------|------|---------|
| `output` | ResourceId | Resource produced |
| `baseRate` | number | tonnes per hour (100 t/h standard for T1) |

### FacilityConversion Interface (Tier 2+)

| Property | Type | Purpose |
|----------|------|---------|
| `inputs` | Array<{resourceId, amount}> | Input resources and ratios |
| `output` | ResourceId | Produced resource |
| `throughput` | number | t/h processing capacity |
| `efficiency` | number | 0-1 conversion ratio |

### FacilityDefinition Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | FacilityId | Enum reference |
| `name` | string | Display name |
| `tier` | FacilityTier | T1-T5 |
| `slotType` | SlotType | surface/orbital/stellar |
| `economy` | EconomyType | Economic category |
| `description` | string | UI tooltip |
| `baseCost` | {credits, resources} | Construction cost (scaled) |
| `production?` | FacilityProduction | For T1 extraction |
| `conversion?` | FacilityConversion | For T2+ processing |
| `bonuses?` | Bonuses | Support facility bonuses |
| `populationFloor` | number | Minimum workers |
| `populationCeiling` | number | Base pop ceiling (×body multiplier) |

### FacilityDefinition.bonuses Object

| Property | Type | Purpose |
|----------|------|---------|
| `tradeCapacity?` | number | Storage multiplier (1-3) |
| `techLevel?` | number | System tech level bonus |
| `securityLevel?` | number | System security level bonus |
| `commsRange?` | number | Communication range in ly |
| `commsReliability?` | number | Reliability bonus percent |
| `commsTravelTimeReduction?` | number | -5%/-10%/-15% travel time |
| `commsFuelReduction?` | number | -5%/-10%/-15% fuel cost |
| `commsReliabilityBonus?` | number | +5%/+10%/+15% reliability |
| `creditBonus?` | number | Credit generation bonus |
| `solBonus?` | number | Standard of Living bonus |

### Facility Instance Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique instance ID |
| `definitionId` | FacilityId | Facility type |
| `bodyId` | string | Celestial body location |
| `level` | number | Upgrade level (future) |
| `condition` | number | 0-100 wear and tear |
| `operational` | boolean | Is facility functioning? |
| `constructionProgress?` | number | 0-100 during construction |

## Celestial Body System

### BodyType Enum (celestial-body.model.ts)

Star, Moon, MoonIcy, Terrestrial, Terraformable, EarthLike, GasGiant

### BodyFeature Enum

HighMetalContent, FertileSoil, RareElementDeposits, ExoticAtmosphere, IceDeposits, ScenicVistas

### CelestialBody Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique body ID |
| `systemId` | string | Parent system |
| `name` | string | Display name (e.g., "Sol 3") |
| `type` | BodyType | Planet/moon/star type |
| `parentBodyId?` | string | For moons, parent body |
| `orbitalSlots` | number | Space stations allowed |
| `surfaceSlots` | number | Ground buildings allowed |
| `features` | BodyFeature[] | Special bonuses |
| `description` | string | Procedural flavor text |

### Population Ceiling Multipliers (by Body Type)

| Body Type | Multiplier | Notes |
|-----------|-----------|-------|
| EarthLike | 2.0x | Perfect conditions |
| Terraformable | 1.5x | Good conditions |
| Terrestrial/Rocky | 1.0x | Baseline, domes |
| Metal-Rich | 1.0x | Industrial focus |
| GasGiant (orbital) | 0.6x | Less desirable |
| Star (orbital) | 0.5x | Hot, dangerous |
| IcyMoon | 0.3x | Cold, dark |

## Star System

### SystemRarity Enum (star-system.model.ts)

Common (50%), Uncommon (30%), Rare (15%), Exceptional (4%), Legendary (1%)

### SystemState Enum

Stable, Prosperous, Boom, GoldRush, GoldenAge (positive states)
DisasterRecovery, Famine, Outbreak, Rioting, Insurgency (negative states)

### StarSystem Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique system ID |
| `x`, `y` | number | Galaxy coordinates |
| `name` | string | System name |
| `discovered` | boolean | Player has found it |
| `colonized` | boolean | Player has established presence |
| `rarity` | SystemRarity | Resource abundance |
| `bodyIds` | string[] | Bodies in system |
| `state` | SystemState | Current condition |
| `population` | number | Total inhabitants |
| `population Floor` | number | Minimum workers |
| `populationCeiling` | number | Maximum inhabitants |
| `productionMultiplier` | number | From population bonus |
| `techLevel` | number | Research development |
| `securityLevel` | number | Anti-piracy effectiveness |
| `distanceFromHome` | number | Light-years |
| `discovered At` | number | Timestamp |
| `colonizedAt?` | number | Timestamp |

## Ship System

### ShipType Enum (ship.model.ts)

Scout, Freighter

### ShipSize Enum

Light, Medium, Heavy, Bulk

### ShipTier Enum

Basic, Standard, Advanced, Elite

### ShipStatus Enum

Idle, InTransit

### Ship Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique ship ID |
| `name` | string | Display name |
| `type` | ShipType | Scout or Freighter |
| `size` | ShipSize | Cargo capacity/speed tier |
| `tier` | ShipTier | Quality/condition |
| `status` | ShipStatus | Idle or traveling |
| `currentSystemId` | string | Current location |
| `destinationSystemId?` | string | Where it's going |
| `cargoCapacity` | number | tonnes |
| `currentCargo` | Record<ResourceId, number> | Loaded cargo |
| `condition` | number | 0-100 health |
| `speed` | number | ly/hour |
| `fuelEfficiency` | number | tons of fuel per ly×ton cargo |
| `createdAt` | number | Timestamp |

### TradeRoute Interface (Recurring Route)

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique route ID |
| `shipId` | string | Assigned ship |
| `originSystemId` | string | Starting point |
| `destinationSystemId` | string | End point |
| `outboundCargo` | Record<ResourceId, number> | Outbound amounts |
| `returnCargo` | Record<ResourceId, number> | Return amounts |
| `status` | 'active'\|'paused'\|'cancelled' | Route state |
| `tripsCompleted` | number | Round trips done |
| `createdAt` | number | Timestamp |

### ScoutMission Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique mission ID |
| `shipId` | string | Scout ship |
| `originSystemId` | string | Launching from |
| `status` | 'outbound'\|'surveying'\|'returning'\|'completed' | Progress |
| `targetDistance` | number | ly to explore |
| `discoveredSystemId?` | string | Found system ID |
| `travelProgress` | number | 0-100% |
| `launchedAt` | number | Timestamp |

### TradeTrip Interface (Active Route Leg)

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique trip ID |
| `routeId` | string | Parent route |
| `shipId` | string | Ship on trip |
| `leg` | 'outbound'\|'return' | Direction |
| `cargo` | Record<ResourceId, number> | Currently hauling |
| `travelProgress` | number | 0-100% of distance |
| `startedAt` | number | Timestamp |

### TradeMission Interface (One-Time Mission)

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique mission ID |
| `shipId` | string | Assigned ship |
| `originSystemId` | string | Departing from |
| `destinationSystemId` | string | Going to |
| `cargo` | Record<ResourceId, number> | Cargo to deliver |
| `status` | 'pending'\|'active'\|'delivered' | Mission state |
| `createdAt` | number | Timestamp |

## Transport Missions (NEW - GDD v6 Section 15)

### TransportMission Interface (transport-mission.model.ts)

Supports three mission types:

```typescript
// One-way mission
{
  id: string;
  type: 'one-way';
  shipId: string;
  originSystemId: string;
  destinationSystemId: string;
  cargo: Record<ResourceId, number>;
  fuel: number;
  status: 'pending' | 'in-transit' | 'delivered';
  launchedAt: number;
}

// Round-trip mission
{
  id: string;
  type: 'round-trip';
  shipId: string;
  originSystemId: string;
  destinationSystemId: string;
  outboundCargo: Record<ResourceId, number>;
  returnCargo: Record<ResourceId, number>;
  fuel: number;
  status: 'pending' | 'outbound' | 'at-destination' | 'returning' | 'complete';
  launchedAt: number;
}

// Recurring route
{
  id: string;
  type: 'recurring';
  shipId: string;
  originSystemId: string;
  destinationSystemId: string;
  outboundConfig: Record<ResourceId, number>;
  returnConfig: Record<ResourceId, number>;
  status: 'active' | 'waiting' | 'paused' | 'cancelled';
  currentLeg: 'at-origin' | 'outbound' | 'at-destination' | 'returning';
  tripsCompleted: number;
  createdAt: number;
}
```

## Game State

### GameSettings Interface (game-state.model.ts)

| Property | Type | Default | Purpose |
|----------|------|---------|---------|
| `tickRate` | number | 200 | Milliseconds between ticks |
| `autoSaveInterval` | number | 60000 | Milliseconds between saves |
| `soundEnabled` | boolean | true | Audio on/off |
| `notificationsEnabled` | boolean | true | Notifications on/off |
| `theme` | 'dark'\|'light' | 'dark' | UI theme |

### GameStats Interface

| Property | Type | Purpose |
|----------|------|---------|
| `totalPlayTime` | number | Milliseconds |
| `systemsDiscovered` | number | Count |
| `systemsColonized` | number | Count |
| `facilitiesBuilt` | number | Count |
| `totalResourcesProduced` | Record<ResourceId, number> | Tonnes |
| `totalCreditsEarned` | number | Credits |
| `shipsLost` | number | Count |
| `maxPopulation` | number | Highest concurrent pop |

### Notification Interface

| Property | Type | Purpose |
|----------|------|---------|
| `id` | string | Unique ID |
| `type` | 'info'\|'success'\|'warning'\|'danger' | Severity |
| `title` | string | Header |
| `message` | string | Description |
| `timestamp` | number | When generated |
| `read` | boolean | Player has seen it |
| `systemId?` | string | Related system (optional) |

### GameState Interface (Complete)

| Property | Type | Purpose |
|----------|------|---------|
| `version` | string | Save format version |
| `createdAt` | number | Game start timestamp |
| `lastSavedAt` | number | Last save timestamp |
| `lastPlayedAt` | number | Last session timestamp |
| `settings` | GameSettings | Player configuration |
| `credits` | number | Currency |
| `systems` | Record<string, StarSystem> | All systems |
| `bodies` | Record<string, CelestialBody> | All celestial bodies |
| `facilities` | Record<string, Facility> | Built facilities |
| `ships` | Record<string, Ship> | Fleet |
| `tradeRoutes` | Record<string, TradeRoute> | Recurring routes |
| `scoutMissions` | Record<string, ScoutMission> | Active scouts |
| `transportMissions` | Record<string, TransportMission> | Transport missions |
| `tradeMissions` | Record<string, TradeMission> | One-time trades |
| `explorationFrontier` | {x,y}[] | Expansion frontier |
| `nextDiscoveryDistance` | number | ly to next find |
| `selectedSystemId` | string\|null | UI selection |
| `selectedBodyId` | string\|null | UI selection |
| `notifications` | Notification[] | Message queue |
| `unreadNotificationCount` | number | Unread count |
| `stats` | GameStats | Achievements |
| `marketPrices` | Record<ResourceId, {buy,sell}> | Prices |
| `prestige` | PrestigeState | New Game+ data |

## Prestige System

### PrestigeState Interface (prestige.model.ts)

| Property | Type | Purpose |
|----------|------|---------|
| `prestigeTokens` | number | Accumulated reset bonuses |
| `totalPrestigeEarned` | number | Career total |
| `lastPrestigeAt?` | number | Last reset timestamp |
| `prestigeHistory` | Array | Past prestige runs |

## Constants & Initial States

### GAME_VERSION
```typescript
export const GAME_VERSION = '0.2.0';  // Current version
export const PREVIOUS_VERSION = '0.1.0';  // For migrations
```

### INITIAL_GAME_SETTINGS
```typescript
export const INITIAL_GAME_SETTINGS: GameSettings = {
  tickRate: 200,           // 5 ticks/second
  autoSaveInterval: 60000, // 1 minute
  soundEnabled: true,
  notificationsEnabled: true,
  theme: 'dark'
};
```

### INITIAL_GAME_STATS
```typescript
export const INITIAL_GAME_STATS: GameStats = {
  totalPlayTime: 0,
  systemsDiscovered: 1,       // Home system
  systemsColonized: 1,        // Home system
  facilitiesBuilt: 0,
  totalResourcesProduced: {} as Record<ResourceId, number>,
  totalCreditsEarned: 0,
  shipsLost: 0,
  maxPopulation: 0
};
```

## Type Aliases

```typescript
type ResourceTier = 1 | 2 | 3 | 4 | 5;
type FacilityTier = 1 | 2 | 3 | 4 | 5;
type SlotType = 'surface' | 'orbital' | 'stellar';
```

## Pattern Rules

All major entity types follow this pattern:

1. **Enum for IDs** (`ResourceId`, `FacilityId`, etc.)
2. **Interface for Definition** (`ResourceDefinition`, `FacilityDefinition`, etc.)
3. **Record Constant for Lookup** (`RESOURCE_DEFINITIONS`, `FACILITY_DEFINITIONS`, etc.)
4. **Instance Interface** for runtime objects (`Facility`, `Ship`, etc.)

## Source Files Referenced

- `/src/app/models/resource.model.ts`
- `/src/app/models/facility.model.ts`
- `/src/app/models/celestial-body.model.ts`
- `/src/app/models/star-system.model.ts`
- `/src/app/models/ship.model.ts`
- `/src/app/models/game-state.model.ts`
- `/src/app/models/prestige.model.ts`
- `/src/app/models/transport-mission.model.ts`
- `/src/app/models/index.ts`
